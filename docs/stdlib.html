<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>stdlib ; bass</title>
    <link rel="stylesheet" type="text/css" href="css/iosevka.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <script type="text/javascript" src="js/switcher.js"></script>
    <noscript>
      <link rel="stylesheet" type="text/css" href="css/base16/base16-rose-pine-moon.css" />
    </noscript>
  </head>
  <body>
    <div class="page">
      <h1 class="section-header highlight chroma"><a id="stdlib"></a>
  <span class="c1"><a class="section-anchor" href="stdlib.html"></a>stdlib</span>
</h1>




  
    <h2 class="section-header highlight chroma"><a id="ground"></a>
  <span class="c1"><a class="section-anchor" href="stdlib.html#ground"></a>ground</span>
</h2>

<p>The <em>ground</em> environment is inherited by all Bass programs.</p><p><div class="bass-commentary">
  <h3 class="commentary-path"><div class="sh-command"><code>bass <a href="https://github.com/vito/bass/tree/main/std/root.bass" target="_blank">std/root.bass</a></code></div></h3>
  
<p>This module bootstraps the ground environment with basic language facilities.</p>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L5">
    <div class="ansi-line"><code><span class="fg-bright-black">; construct a list from a sequence of values</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">list </span><span class="nv">x</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L8">
    <div class="ansi-line"><code><span class="fg-bright-black">; prepend a sequence of values to a list given as the final argument</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">list* </span><span class="nv">args</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L23">
    <div class="ansi-line"><code><span class="fg-bright-black">; return the first value in a pair</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">first </span><span class="p">(</span><span class="p">(</span><span class="nf">f</span> <span class="o">&amp;</span> <span class="nv">_</span><span class="p">)</span><span class="p">)</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Typically the head of a linked list.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L28">
    <div class="ansi-line"><code><span class="fg-bright-black">; return the second value in a pair</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">rest </span><span class="p">(</span><span class="p">(</span><span class="nf">_</span> <span class="o">&amp;</span> <span class="nv">r</span><span class="p">)</span><span class="p">)</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Typically the tail of a linked list.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L31-L36">
    <div class="ansi-line"><code><span class="fg-bright-black">; return the length of the given list</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">length</span> <span class="p">(</span><span class="nf">x</span><span class="p">)</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L44-L53">
    <div class="ansi-line"><code><span class="fg-bright-black">; construct an operative</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nv">op</span> <span class="p">(</span><span class="nf">formals</span> <span class="nv">eformal</span> <span class="o">&amp;</span> <span class="nv">body</span><span class="p">)</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>An operative is a combiner that is called with unevaluated arguments and the caller&#39;s dynamic environment.</p><p>Operatives are used to define new syntactic constructs.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L59-L61">
    <div class="ansi-line"><code><span class="fg-bright-black">; construct an operative and bind it to a symbol</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nv">defop</span> <span class="p">(</span><span class="nb">name </span><span class="nv">formals</span> <span class="nv">eformal</span> <span class="o">&amp;</span> <span class="nv">body</span><span class="p">)</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Returns the bound symbol. Write a comment before (defop) to provide documentation.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L67-L68">
    <div class="ansi-line"><code><span class="fg-bright-black">; construct a function</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="k">fn </span><span class="p">(</span><span class="nf">formals</span> <span class="o">&amp;</span> <span class="nv">body</span><span class="p">)</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Functions are applicative combiners which evaluate their arguments before passing them to an underlying operative.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L74-L75">
    <div class="ansi-line"><code><span class="fg-bright-black">; construct a function and bind it to a symbol</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="kd">defn </span><span class="p">(</span><span class="nb">name </span><span class="nv">formals</span> <span class="o">&amp;</span> <span class="nv">body</span><span class="p">)</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Returns the bound symbol. Write a comment before (defn) to provide documentation.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L78">
    <div class="ansi-line"><code><span class="fg-bright-black">; return the second member of a linked list</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">second </span><span class="p">[</span><span class="p">(</span><span class="nf">_</span> <span class="nv">x</span> <span class="o">&amp;</span> <span class="nv">_</span><span class="p">)</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L81">
    <div class="ansi-line"><code><span class="fg-bright-black">; return third member of a linked list</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">third</span> <span class="p">[</span><span class="p">(</span><span class="nf">_</span> <span class="nv">_</span> <span class="nv">x</span> <span class="o">&amp;</span> <span class="nv">_</span><span class="p">)</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L84">
    <div class="ansi-line"><code><span class="fg-bright-black">; return the current environment</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nv">get-current-env</span> <span class="nv">_</span> <span class="nv">e</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L87">
    <div class="ansi-line"><code><span class="fg-bright-black">; returns the unevaluated form</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="k">quote </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="nv">_</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L90-L95">
    <div class="ansi-line"><code><span class="fg-bright-black">; returns a list containing the result of applying f to each member of xs</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">map </span><span class="p">(</span><span class="nf">f</span> <span class="nv">xs</span><span class="p">)</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L103">
    <div class="ansi-line"><code><span class="fg-bright-black">; calls a function with alternating pairs in a flat list (i.e. with pairs ungrouped)</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">map-pairs</span> <span class="p">[</span><span class="nv">f</span> <span class="nv">ps</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Takes 2-arity function and a flat pair sequence. Walks the sequence and calls f with 2 values at a time.</p><p>Raises an error if the list has uneven length.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L123-L131">
    <div class="ansi-line"><code><span class="fg-bright-black">; binds values in a child environment</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="k">let </span><span class="p">(</span><span class="nf">bindings</span> <span class="o">&amp;</span> <span class="nv">body</span><span class="p">)</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Takes a flat pair sequence alternating bindings and their values. Binds and evaluates each value in sequence, allowing later bindings to refer to earlier bindings.</p><p>Returns the result of evaluating the body in the child environment.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L137-L146">
    <div class="ansi-line"><code><span class="fg-bright-black">; provide bindings to the current scope from a nested scope</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nv">provide</span> <span class="p">[</span><span class="nv">symbols</span> <span class="o">&amp;</span> <span class="nv">body</span><span class="p">]</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Allows for modularity in code, selectively providing bindings while encapsulating bindings that they use.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L149-L151">
    <div class="ansi-line"><code><span class="fg-bright-black">; binds symbols to values in the target environment</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nv">set!</span> <span class="p">[</span><span class="nv">target</span> <span class="nv">symbols</span> <span class="nv">values</span><span class="p">]</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L155-L157">
    <div class="ansi-line"><code><span class="fg-bright-black">; binds symbols in the current environment to their values from the source environment</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nb">import </span><span class="p">[</span><span class="nv">source</span> <span class="o">&amp;</span> <span class="nv">symbols</span><span class="p">]</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L182-L189">
    <div class="ansi-line"><code><span class="fg-bright-black">; if-then-else with many clauses</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nb">cond </span><span class="nv">clauses</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Takes a flat pair sequence alternating tests to evaluate and an expression to evaluate if the test returns a truthy value.</p><p>Returns the result of the evaluated branch, or null if no tests were true.</p><p>By convention, :else is used as the final catch-all test, though any truthy value works.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L192">
    <div class="ansi-line"><code><span class="fg-bright-black">; lazily evaluated boolean &#39;or&#39;</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nb">or </span><span class="nv">conds</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L208">
    <div class="ansi-line"><code><span class="fg-bright-black">; lazily evaluated boolean &#39;and&#39;</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nb">and </span><span class="nv">conds</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L231-L235">
    <div class="ansi-line"><code><span class="fg-bright-black">; call an applicative&#39;s underlying operative with a list of arguments</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">apply </span><span class="p">[</span><span class="nv">appv</span> <span class="nv">arg</span> <span class="o">&amp;</span> <span class="nv">opt</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>An environment may be provided as the third argument. If not specified, the operative will be called in a new empty environment.</p><p>Used to call an applicative with pre-evaluated arguments, skipping the normal evaluation the applicative would perform prior to calling the underlying operative.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L246-L253">
    <div class="ansi-line"><code><span class="fg-bright-black">; threads a value through forms</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nb">-&gt; </span><span class="p">[</span><span class="nv">x</span> <span class="nv">f</span> <span class="o">&amp;</span> <span class="nv">fs</span><span class="p">]</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Calls the first form with the given value, passing the result to the second form, and so on, returning the final value.</p><p>A form may be a list or a single value. For a list, the value is inserted before the second value, becoming the first argument. For a single value, it is wrapped in a list with the value as the single argument.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L266-L267">
    <div class="ansi-line"><code><span class="fg-bright-black">; evaluates the branch that successfully binds the given value</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nv">case</span> <span class="p">[</span><span class="nv">v</span> <span class="o">&amp;</span> <span class="nv">bs</span><span class="p">]</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/root.bass#L270">
    <div class="ansi-line"><code><span class="fg-bright-black">; identity function; returns its argument</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">id</span> <span class="p">[</span><span class="nv">x</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

</div> <div class="bass-commentary">
  <h3 class="commentary-path"><div class="sh-command"><code>bass <a href="https://github.com/vito/bass/tree/main/std/lists.bass" target="_blank">std/lists.bass</a></code></div></h3>
  
<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/lists.bass#L24-L28">
    <div class="ansi-line"><code><span class="fg-bright-black">; conjoins values onto the end of a list</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">conj </span><span class="p">[</span><span class="nv">xs</span> <span class="nv">y</span> <span class="o">&amp;</span> <span class="nv">ys</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/lists.bass#L31-L32">
    <div class="ansi-line"><code><span class="fg-bright-black">; constructs an object from a list of flat keyword/value pairs</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">list-&gt;object</span> <span class="p">[</span><span class="nv">kwargs</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

</div> <div class="bass-commentary">
  <h3 class="commentary-path"><div class="sh-command"><code>bass <a href="https://github.com/vito/bass/tree/main/std/streams.bass" target="_blank">std/streams.bass</a></code></div></h3>
  
<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/streams.bass#L5-L12">
    <div class="ansi-line"><code><span class="fg-bright-black">; returns the last value from the stream</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">last </span><span class="p">[</span><span class="nv">stream</span> <span class="o">&amp;</span> <span class="nv">default</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>As with (next), a default may be provided to be returned when the stream is empty. If not provided, an error will be raised if the stream is empty.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/streams.bass#L17-L23">
    <div class="ansi-line"><code><span class="fg-bright-black">; calls f for every value read from the stream</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">each</span> <span class="p">[</span><span class="nv">stream</span> <span class="nv">f</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Returns null.</p>
  </div>
  
</div>

</div> <div class="bass-commentary">
  <h3 class="commentary-path"><div class="sh-command"><code>bass <a href="https://github.com/vito/bass/tree/main/std/run.bass" target="_blank">std/run.bass</a></code></div></h3>
  
<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L5-L6">
    <div class="ansi-line"><code><span class="fg-bright-black">; returns a structure which will join the given values into a single string value</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">arg</span> <span class="nv">vals</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Used to concatenate paths with string values to be passed as an argument to a workload.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L9-L10">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :args field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">with-args</span> <span class="p">[</span><span class="nv">workload</span> <span class="o">&amp;</span> <span class="nv">args</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L13-L14">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :stdin field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">with-stdin</span> <span class="p">[</span><span class="nv">workload</span> <span class="o">&amp;</span> <span class="nv">stdin</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L17-L18">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :entrypoint field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">with-entrypoint</span> <span class="p">[</span><span class="nv">workload</span> <span class="o">&amp;</span> <span class="nv">entrypoint</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L21-L22">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :insecure field of the workload to true</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">insecure!</span> <span class="p">[</span><span class="nv">workload</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L25-L26">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :insecure field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">with-insecure</span> <span class="p">[</span><span class="nv">workload</span> <span class="nv">val</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L42-L47">
    <div class="ansi-line"><code><span class="fg-bright-black">; constructs a workload with args set as :args</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nv">$</span> <span class="p">[</span><span class="nv">cmd</span> <span class="o">&amp;</span> <span class="nv">args</span><span class="p">]</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Symbol arguments are automatically converted to strings. Symbols beginning with $ are resolved to their binding with the leading $ removed.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L59-L60">
    <div class="ansi-line"><code><span class="fg-bright-black">; the default platform for workloads that configure an image</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="k">def </span><span class="nv">*default-platform*</span> <span class="p">{</span><span class="ss">:os</span> <span class="s">&#34;linux&#34;</span><span class="p">}</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L63-L68">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :image field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">in-image</span> <span class="p">[</span><span class="nv">workload</span> <span class="nv">image</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L71-L72">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :platform field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">on-platform</span> <span class="p">[</span><span class="nv">workload</span> <span class="nv">platform</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L79-L86">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :response field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">response-from</span> <span class="p">[</span><span class="nv">workload</span> <span class="nv">source</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>If source is :stdout, sets it to {:stdout true}. If source is :exit, sets it to {:exit-code true}. If source is a path?, sets it to {:file source}.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L89-L90">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :dir field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">in-dir</span> <span class="p">[</span><span class="nv">workload</span> <span class="nv">dir</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L93-L97">
    <div class="ansi-line"><code><span class="fg-bright-black">; appends a mount to the :mounts field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">with-mount</span> <span class="p">[</span><span class="nv">workload</span> <span class="nv">source</span> <span class="nv">target</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L100-L101">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :mounts field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">with-mounts</span> <span class="p">[</span><span class="nv">workload</span> <span class="nv">mounts</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L106-L107">
    <div class="ansi-line"><code><span class="fg-bright-black">; inserts an env var and value into the :env field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">with-env-var</span> <span class="p">[</span><span class="nv">workload</span> <span class="nb">name </span><span class="nv">value</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>TODO: append, add in stable order</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/run.bass#L110-L111">
    <div class="ansi-line"><code><span class="fg-bright-black">; sets the :env field of the workload</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">with-env</span> <span class="p">[</span><span class="nv">workload</span> <span class="nv">env</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

</div> <div class="bass-commentary">
  <h3 class="commentary-path"><div class="sh-command"><code>bass <a href="https://github.com/vito/bass/tree/main/std/bool.bass" target="_blank">std/bool.bass</a></code></div></h3>
  
<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/bool.bass#L4-L5">
    <div class="ansi-line"><code><span class="fg-bright-black">; negates the given bool-ish value</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">not </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>Returns true for false and null. Returns true otherwise.</p>
  </div>
  
</div>

</div></p>


  

  
    <h2 class="section-header highlight chroma"><a id="strings"></a>
  <span class="c1"><a class="section-anchor" href="stdlib.html#strings"></a>strings</span>
</h2>

<p><code class="highlight chroma"><span class="p">(</span><span class="nb">load </span><span class="p">(</span><span class="nf">.strings</span><span class="p">)</span><span class="p">)</span></code></p><p><div class="bass-commentary">
  <h3 class="commentary-path"><div class="sh-command"><code>bass <a href="https://github.com/vito/bass/tree/main/std/strings.bass" target="_blank">std/strings.bass</a></code></div></h3>
  
<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/strings.bass#L2-L6">
    <div class="ansi-line"><code><span class="fg-bright-black">; joins a list of strings together with delim in between</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nb">join </span><span class="p">[</span><span class="nv">delim</span> <span class="nv">strs</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

</div></p>


  

  
    <h2 class="section-header highlight chroma"><a id="concourse"></a>
  <span class="c1"><a class="section-anchor" href="stdlib.html#concourse"></a>Concourse</span>
</h2>

<p><code class="highlight chroma"><span class="p">(</span><span class="nb">load </span><span class="p">(</span><span class="nf">.concourse</span><span class="p">)</span><span class="p">)</span></code></p><div class="bass-commentary">
  <h3 class="commentary-path"><div class="sh-command"><code>bass <a href="https://github.com/vito/bass/tree/main/std/concourse.bass" target="_blank">std/concourse.bass</a></code></div></h3>
  
<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/concourse.bass#L23-L25">
    <div class="ansi-line"><code><span class="fg-bright-black">; the default configuration, if none is supplied on *stdin*</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="k">def </span><span class="nv">*default-config*</span> <span class="p">{</span><span class="ss">:platforms</span> <span class="p">{</span><span class="ss">:linux</span> <span class="p">{</span><span class="ss">:os</span> <span class="s">&#34;linux&#34;</span><span class="p">}</span><span class="p">}</span> <span class="ss">:types</span> <span class="p">{</span><span class="ss">:docker-image</span> <span class="s">&#34;concourse/docker-image-resource&#34;</span> <span class="ss">:git</span> <span class="s">&#34;concourse/git-resource&#34;</span> <span class="ss">:registry-image</span> <span class="s">&#34;concourse/registry-image-resource&#34;</span> <span class="ss">:time</span> <span class="s">&#34;concourse/time-resource&#34;</span><span class="p">}</span><span class="p">}</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/concourse.bass#L75-L76">
    <div class="ansi-line"><code><span class="fg-bright-black">; defines a resource</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="nf">defop</span> <span class="nv">defresource</span> <span class="p">[</span><span class="nb">name </span><span class="nv">type</span> <span class="nv">source</span><span class="p">]</span> <span class="nv">env</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/concourse.bass#L36">
    <div class="ansi-line"><code><span class="fg-bright-black">; constructs a resource commandline interpreter</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">resource</span> <span class="p">[</span><span class="nv">type</span> <span class="nv">source</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>If type is a keyword, it is mapped to an image via :types in the module configuration.</p><p>Otherwise, it is passed along to `in-image`.</p>
  </div>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/concourse.bass#L79-L80">
    <div class="ansi-line"><code><span class="fg-bright-black">; gets the latest version of a resource</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">get-latest</span> <span class="p">[</span><span class="nv">r</span> <span class="o">&amp;</span> <span class="nv">kwargs</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
</div>

<div class="bass-commented">
  <a class="comment-title" href="https://github.com/vito/bass/tree/main/std/concourse.bass#L88">
    <div class="ansi-line"><code><span class="fg-bright-black">; run a task with the given parameters</span></code></div>
    <div class="ansi-line"><code><span class="fg-green"><code class="highlight chroma"><span class="p">(</span><span class="kd">defn </span><span class="nv">run-task</span> <span class="p">[</span><span class="nv">config-path</span> <span class="o">&amp;</span> <span class="nv">kwargs</span><span class="p">]</span><span class="p">)</span></code></span></code></div>
  </a>
  
  <div class="comment-body">
    <p>The :inputs param provides as a mapping from name to workload path.</p><p>Returns an object with :outputs bound to a mapping from name to workload path, and :result bound to the workload&#39;s stream.</p>
  </div>
  
</div>

</div>


  

  

    </div>

    <div class="sidebar">
      <nav>
        <a href="index.html" class="section-link top">bass</a>

        <ul>
        
        <li><a href="demos.html" class="section-link">demos</a></li>
        
        <li><a href="guide.html" class="section-link">guide</a></li>
        
        <li><a href="bassics.html" class="section-link">bassics</a></li>
        
        <li><a href="stdlib.html" class="section-link current">stdlib</a></li>
        
        <li><a href="meta.html" class="section-link">meta</a></li>
        
        </ul>
      </nav>

      <div class="choose-theme" id="choosetheme">
        <select id="styleswitcher" onchange="switchStyle(event)">
          <option value=""></option>
          <option value="3024">3024</option>
<option value="apathy">apathy</option>
<option value="apprentice">apprentice</option>
<option value="ashes">ashes</option>
<option value="atelier-cave">atelier-cave</option>
<option value="atelier-dune">atelier-dune</option>
<option value="atelier-estuary">atelier-estuary</option>
<option value="atelier-forest">atelier-forest</option>
<option value="atelier-heath">atelier-heath</option>
<option value="atelier-lakeside">atelier-lakeside</option>
<option value="atelier-plateau">atelier-plateau</option>
<option value="atelier-savanna">atelier-savanna</option>
<option value="atelier-seaside">atelier-seaside</option>
<option value="atelier-sulphurpool">atelier-sulphurpool</option>
<option value="atlas">atlas</option>
<option value="bespin">bespin</option>
<option value="black-metal-bathory">black-metal-bathory</option>
<option value="black-metal-burzum">black-metal-burzum</option>
<option value="black-metal-gorgoroth">black-metal-gorgoroth</option>
<option value="black-metal-immortal">black-metal-immortal</option>
<option value="black-metal-khold">black-metal-khold</option>
<option value="black-metal-marduk">black-metal-marduk</option>
<option value="black-metal-mayhem">black-metal-mayhem</option>
<option value="black-metal-nile">black-metal-nile</option>
<option value="black-metal-venom">black-metal-venom</option>
<option value="black-metal">black-metal</option>
<option value="brewer">brewer</option>
<option value="bright">bright</option>
<option value="brogrammer">brogrammer</option>
<option value="brushtrees">brushtrees</option>
<option value="chalk">chalk</option>
<option value="circus">circus</option>
<option value="codeschool">codeschool</option>
<option value="cupcake">cupcake</option>
<option value="cupertino">cupertino</option>
<option value="danqing">danqing</option>
<option value="darcula">darcula</option>
<option value="decaf">decaf</option>
<option value="dirtysea">dirtysea</option>
<option value="dracula">dracula</option>
<option value="eighties">eighties</option>
<option value="embers">embers</option>
<option value="espresso">espresso</option>
<option value="eva-dim">eva-dim</option>
<option value="eva">eva</option>
<option value="flat">flat</option>
<option value="framer">framer</option>
<option value="fruit-soda">fruit-soda</option>
<option value="gigavolt">gigavolt</option>
<option value="github">github</option>
<option value="green-screen">green-screen</option>
<option value="greenscreen">greenscreen</option>
<option value="hardcore">hardcore</option>
<option value="heetch">heetch</option>
<option value="helios">helios</option>
<option value="hopscotch">hopscotch</option>
<option value="icy">icy</option>
<option value="ir-black">ir-black</option>
<option value="irblack">irblack</option>
<option value="isotope">isotope</option>
<option value="kimber">kimber</option>
<option value="london-tube">london-tube</option>
<option value="macintosh">macintosh</option>
<option value="marrakesh">marrakesh</option>
<option value="materia">materia</option>
<option value="material-palenight">material-palenight</option>
<option value="material-vivid">material-vivid</option>
<option value="material">material</option>
<option value="mellow-purple">mellow-purple</option>
<option value="mocha">mocha</option>
<option value="monokai">monokai</option>
<option value="nebula">nebula</option>
<option value="nord">nord</option>
<option value="nova">nova</option>
<option value="ocean">ocean</option>
<option value="oceanicnext">oceanicnext</option>
<option value="paraiso">paraiso</option>
<option value="pasque">pasque</option>
<option value="phd">phd</option>
<option value="pico">pico</option>
<option value="pinky">pinky</option>
<option value="pop">pop</option>
<option value="porple">porple</option>
<option value="qualia">qualia</option>
<option value="railscasts">railscasts</option>
<option value="rebecca">rebecca</option>
<option value="rose-pine-dawn">rose-pine-dawn</option>
<option value="rose-pine-moon">rose-pine-moon</option>
<option value="rose-pine">rose-pine</option>
<option value="sakura">sakura</option>
<option value="sandcastle">sandcastle</option>
<option value="seti-ui">seti-ui</option>
<option value="seti">seti</option>
<option value="shades-of-purple">shades-of-purple</option>
<option value="shapeshifter">shapeshifter</option>
<option value="snazzy">snazzy</option>
<option value="solar-flare">solar-flare</option>
<option value="solarflare">solarflare</option>
<option value="spacemacs">spacemacs</option>
<option value="summercamp">summercamp</option>
<option value="tango">tango</option>
<option value="tender">tender</option>
<option value="tomorrow-night-eighties">tomorrow-night-eighties</option>
<option value="tomorrow-night">tomorrow-night</option>
<option value="tomorrow">tomorrow</option>
<option value="tube">tube</option>
<option value="vulcan">vulcan</option>
<option value="windows-10">windows-10</option>
<option value="windows-95">windows-95</option>
<option value="windows-highcontrast">windows-highcontrast</option>
<option value="windows-nt">windows-nt</option>
<option value="woodland">woodland</option>
<option value="xcode-dusk">xcode-dusk</option>
<option value="zenburn">zenburn</option>
<option value="atelier-cave-light">atelier-cave-light</option>
<option value="atelier-dune-light">atelier-dune-light</option>
<option value="atelier-estuary-light">atelier-estuary-light</option>
<option value="atelier-forest-light">atelier-forest-light</option>
<option value="atelier-heath-light">atelier-heath-light</option>
<option value="atelier-lakeside-light">atelier-lakeside-light</option>
<option value="atelier-plateau-light">atelier-plateau-light</option>
<option value="atelier-savanna-light">atelier-savanna-light</option>
<option value="atelier-seaside-light">atelier-seaside-light</option>
<option value="atelier-sulphurpool-light">atelier-sulphurpool-light</option>
<option value="classic-light">classic-light</option>
<option value="default-light">default-light</option>
<option value="edge-light">edge-light</option>
<option value="equilibrium-gray-light">equilibrium-gray-light</option>
<option value="equilibrium-light">equilibrium-light</option>
<option value="google-light">google-light</option>
<option value="grayscale-light">grayscale-light</option>
<option value="harmonic-light">harmonic-light</option>
<option value="harmonic16-light">harmonic16-light</option>
<option value="heetch-light">heetch-light</option>
<option value="horizon-light">horizon-light</option>
<option value="horizon-terminal-light">horizon-terminal-light</option>
<option value="humanoid-light">humanoid-light</option>
<option value="ia-light">ia-light</option>
<option value="mexico-light">mexico-light</option>
<option value="one-light">one-light</option>
<option value="papercolor-light">papercolor-light</option>
<option value="silk-light">silk-light</option>
<option value="solarflare-light">solarflare-light</option>
<option value="solarized-light">solarized-light</option>
<option value="summerfruit-light">summerfruit-light</option>
<option value="synth-midnight-light">synth-midnight-light</option>
<option value="unikitty-light">unikitty-light</option>
<option value="windows-10-light">windows-10-light</option>
<option value="windows-95-light">windows-95-light</option>
<option value="windows-highcontrast-light">windows-highcontrast-light</option>
<option value="windows-nt-light">windows-nt-light</option>
<option value="brushtrees-dark">brushtrees-dark</option>
<option value="classic-dark">classic-dark</option>
<option value="default-dark">default-dark</option>
<option value="edge-dark">edge-dark</option>
<option value="equilibrium-dark">equilibrium-dark</option>
<option value="equilibrium-gray-dark">equilibrium-gray-dark</option>
<option value="google-dark">google-dark</option>
<option value="grayscale-dark">grayscale-dark</option>
<option value="harmonic-dark">harmonic-dark</option>
<option value="harmonic16-dark">harmonic16-dark</option>
<option value="horizon-dark">horizon-dark</option>
<option value="horizon-terminal-dark">horizon-terminal-dark</option>
<option value="humanoid-dark">humanoid-dark</option>
<option value="ia-dark">ia-dark</option>
<option value="outrun-dark">outrun-dark</option>
<option value="papercolor-dark">papercolor-dark</option>
<option value="silk-dark">silk-dark</option>
<option value="solarized-dark">solarized-dark</option>
<option value="summerfruit-dark">summerfruit-dark</option>
<option value="synth-midnight-dark">synth-midnight-dark</option>
<option value="unikitty-dark">unikitty-dark</option>
        </select>
      </div>
    </div>
  </body>
</html>