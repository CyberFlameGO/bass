Much better error messages!

Backtraces are now annotated and syntax highlighted source code instead of
cryptic squished code.

Thunk errors now summarize the relevant progress, so you don't have to scroll
around and open your third eye to find the actual error.

![image](https://user-images.githubusercontent.com/1880/162117029-1aef73ee-1ed9-43a9-a4f1-c67fe87942b5.png)

Plus some other odds and ends and casual backwards-incompatible changes.
